import FWCore.ParameterSet.Config as cms

# configuration to model pileup for initial physics phase
from SimGeneral.MixingModule.mixObjects_cfi import theMixObjects
from SimGeneral.MixingModule.mixPoolSource_cfi import *
from SimGeneral.MixingModule.digitizers_cfi import *

mix = cms.EDProducer("MixingModule",
    digitizers = cms.PSet(theDigitizers),
    LabelPlayback = cms.string(''),
    maxBunch = cms.int32(3),
    minBunch = cms.int32(-12), ## in terms of 25 nsec

    bunchspace = cms.int32(25), ##ns
    mixProdStep1 = cms.bool(False),
    mixProdStep2 = cms.bool(False),

    playback = cms.untracked.bool(False),
    useCurrentProcessOnly = cms.bool(False),

    input = cms.SecSource("EmbeddedRootSource",
        type = cms.string('probFunction'),
        nbPileupEvents = cms.PSet(
          probFunctionVariable = cms.vint32(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199),
	  probValue = cms.vdouble(
      0.0,
      0.0,
      0.0,
      2.52731038138e-18,
      1.17102565477e-15,
      2.73999351479e-13,
      3.25019806318e-11,
      1.96118477036e-09,
      6.04421555917e-08,
      9.55835137376e-07,
      7.793705796e-06,
      3.29195847678e-05,
      7.26616651827e-05,
      8.85243350102e-05,
      7.87511202105e-05,
      8.37721035247e-05,
      8.24058925998e-05,
      4.80651057622e-05,
      1.47442743568e-05,
      2.33332304616e-06,
      1.89462546294e-07,
      1.55623912764e-07,
      8.86235891868e-05,
      0.000364837410146,
      2.42290528207e-05,
      7.38195284682e-09,
      5.13026306401e-15,
      0.0,
      1.77450177179e-16,
      1.03248700449e-11,
      3.90874342045e-08,
      2.34867743621e-05,
      0.000711105343584,
      0.000552534371496,
      8.09335262371e-05,
      1.46591849699e-06,
      1.43089792246e-07,
      3.32211385165e-05,
      0.000404881941341,
      0.000349782436509,
      2.08274619518e-05,
      0.000869038544095,
      2.46331783747e-08,
      3.17082945731e-06,
      7.77419468544e-05,
      0.000384621023397,
      0.000403285279246,
      9.16289404199e-05,
      1.91376970929e-05,
      6.92106129927e-05,
      0.000187575448383,
      0.000300942097393,
      0.000286459668228,
      0.00127661772095,
      5.69841585027e-05,
      1.05679088858e-05,
      1.23131028431e-06,
      8.46249106967e-08,
      3.42267263019e-09,
      2.01058527768e-05,
      0.00120605988496,
      4.54002993329e-05,
      5.79483877127e-12,
      3.1967272348e-13,
      3.87051051484e-12,
      4.84109773449e-10,
      3.34296928243e-08,
      1.06408070631e-06,
      1.56708887611e-05,
      0.000107501937245,
      0.000345158000438,
      0.000521282526243,
      0.000386788278132,
      0.000266214770973,
      0.000813450579233,
      0.00304156800302,
      0.00750054829417,
      0.0135076060227,
      0.0189219465141,
      0.0215258288897,
      0.0217827760228,
      0.0214477851247,
      0.0212895437752,
      0.0210539911065,
      0.0205799388429,
      0.0199068347285,
      0.0193508302534,
      0.0192731462653,
      0.0196188002466,
      0.02016583875,
      0.0206305171633,
      0.0208179924079,
      0.0206893152781,
      0.0203359307836,
      0.0198852607898,
      0.019439299197,
      0.0190558134354,
      0.0187643298719,
      0.0185796209773,
      0.0185081991681,
      0.0185324826971,
      0.0186094200073,
      0.0186789995032,
      0.0186819342197,
      0.0185823625308,
      0.0183820246977,
      0.0181097309707,
      0.017808755788,
      0.0175180176693,
      0.0172574845371,
      0.0170257754008,
      0.0168078199231,
      0.0165800242283,
      0.016321712255,
      0.0160209349184,
      0.0156707586649,
      0.0152748600606,
      0.014840902506,
      0.0143783856252,
      0.013896164804,
      0.0134005947101,
      0.0128973338105,
      0.01238928512,
      0.0118770968541,
      0.0113597374703,
      0.0108353453837,
      0.0103015066389,
      0.00975581044357,
      0.00919711769905,
      0.00862521292056,
      0.00804205647594,
      0.00745084413243,
      0.00685714792993,
      0.00626757562181,
      0.005689228407,
      0.00512935510903,
      0.00459474706739,
      0.0040908412973,
      0.00362152575114,
      0.00318919936801,
      0.00279482817118,
      0.0024381303802,
      0.00211783676992,
      0.00183197536907,
      0.00157814063089,
      0.00135372108937,
      0.00115607305775,
      0.000982639018069,
      0.000831017005702,
      0.000698991457592,
      0.000584537222325,
      0.000485807569347,
      0.000401114960779,
      0.000328910809753,
      0.000267767986307,
      0.000216367773809,
      0.000173491470636,
      0.000138015883454,
      0.000108911495856,
      8.5242003811e-05,
      6.616406293e-05,
      5.09263794463e-05,
      3.88676073072e-05,
      2.94128250684e-05,
      2.20686207237e-05,
      1.64169937819e-05,
      1.21083909718e-05,
      8.85423418182e-06,
      6.41929111247e-06,
      4.6141966297e-06,
      3.28837084747e-06,
      2.32351086311e-06,
      1.62776594619e-06,
      1.13064679664e-06,
      7.78671424636e-07,
      5.31714276971e-07,
      3.60000922724e-07,
      2.4167644914e-07,
      1.60869775228e-07,
      1.06176327256e-07,
      6.94860286837e-08,
      4.50906992386e-08,
      2.90134236929e-08,
      1.85112642357e-08,
      1.17111771753e-08,
      7.346735601e-09,
      4.57003391221e-09,
      2.81888343342e-09,
      1.72412520697e-09,
      1.04567223878e-09,
      6.28866352686e-10,
      3.7502297833e-10,
      2.21765871299e-10,
      1.30037700948e-10,
      7.56104595503e-11,
      4.35945973742e-11,
      2.49242268008e-11,
      1.41302186442e-11,
      7.94354092463e-12,
      4.42809697262e-12),
          histoFileName = cms.untracked.string('histProbFunction.root'),
        ),
	sequential = cms.untracked.bool(False),
        manage_OOT = cms.untracked.bool(True),  ## manage out-of-time pileup
        ## setting this to True means that the out-of-time pileup
        ## will have a different distribution than in-time, given
        ## by what is described on the next line:
        OOT_type = cms.untracked.string('Poisson'),  ## generate OOT with a Poisson matching the number chosen for in-time
        #OOT_type = cms.untracked.string('fixed'),  ## generate OOT with a fixed distribution
        #intFixed_OOT = cms.untracked.int32(2),
        fileNames = FileNames
    ),
    mixObjects = cms.PSet(theMixObjects)
)



